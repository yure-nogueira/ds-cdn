{"file":"tp-calendar.js","mappings":"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","names":["TpCalendar"],"sources":["src/components/core/calendar/utils/calendar.constant.ts","src/components/core/calendar/utils/gesture/gesture-controller.ts","src/components/core/calendar/utils/gesture/listener.ts","src/components/core/calendar/utils/gesture/pointer-events.ts","src/components/core/calendar/utils/gesture/recognizers.ts","src/components/core/calendar/utils/gesture/index.ts","src/components/core/calendar/calendar.scss?tag=tp-calendar&encapsulation=scoped","src/components/core/calendar/calendar.tsx"],"sourcesContent":["import { getAssetPath } from '@stencil/core';\r\nimport { TpCalendarConfig } from './calendar.type';\r\n\r\nexport const TP_CALENDAR: TpCalendarConfig = {\r\n  icons: {\r\n    chevronRight: getAssetPath('./assets/tp-chevron-right.svg'),\r\n    chevronLeft: getAssetPath('./assets/tp-chevron-left.svg'),\r\n    chevronDown: getAssetPath('./assets/tp-chevron-down.svg'),\r\n  },\r\n  weekdays: ['Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sab', 'Dom'],\r\n  timeframes: {\r\n    week: 'Semana',\r\n    month: 'Mês',\r\n  },\r\n  directions: {\r\n    left: 'left',\r\n    right: 'right',\r\n  },\r\n};\r\n","\r\nclass GestureController {\r\n\r\n  private gestureId = 0;\r\n  private requestedStart = new Map<number, number>();\r\n  private disabledGestures = new Map<string, Set<number>>();\r\n  private disabledScroll = new Set<number>();\r\n  private capturedId?: number;\r\n\r\n  /**\r\n   * Creates a gesture delegate based on the GestureConfig passed\r\n   */\r\n  createGesture(config: GestureConfig): GestureDelegate {\r\n    return new GestureDelegate(\r\n      this,\r\n      this.newID(),\r\n      config.name,\r\n      config.priority || 0,\r\n      !!config.disableScroll\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Creates a blocker that will block any other gesture events from firing. Set in the ion-gesture component.\r\n   */\r\n  createBlocker(opts: BlockerConfig = {}): BlockerDelegate {\r\n    return new BlockerDelegate(\r\n      this,\r\n      this.newID(),\r\n      opts.disable,\r\n      !!opts.disableScroll\r\n    );\r\n  }\r\n\r\n  start(gestureName: string, id: number, priority: number): boolean {\r\n    if (!this.canStart(gestureName)) {\r\n      this.requestedStart.delete(id);\r\n      return false;\r\n    }\r\n    this.requestedStart.set(id, priority);\r\n    return true;\r\n  }\r\n\r\n  capture(gestureName: string, id: number, priority: number): boolean {\r\n    if (!this.start(gestureName, id, priority)) {\r\n      return false;\r\n    }\r\n    const requestedStart = this.requestedStart;\r\n    let maxPriority = -10000;\r\n\r\n    requestedStart.forEach(value => {\r\n      maxPriority = Math.max(maxPriority, value);\r\n    });\r\n\r\n    if (maxPriority === priority) {\r\n      this.capturedId = id;\r\n      requestedStart.clear();\r\n\r\n      const event = new CustomEvent('ionGestureCaptured', { detail: { gestureName } });\r\n      document.dispatchEvent(event);\r\n      return true;\r\n    }\r\n    requestedStart.delete(id);\r\n\r\n    return false;\r\n  }\r\n\r\n  release(id: number) {\r\n    this.requestedStart.delete(id);\r\n\r\n    if (this.capturedId === id) {\r\n      this.capturedId = undefined;\r\n    }\r\n  }\r\n\r\n  disableGesture(gestureName: string, id: number) {\r\n    let set = this.disabledGestures.get(gestureName);\r\n    if (set === undefined) {\r\n      set = new Set<number>();\r\n      this.disabledGestures.set(gestureName, set);\r\n    }\r\n    set.add(id);\r\n  }\r\n\r\n  enableGesture(gestureName: string, id: number) {\r\n    const set = this.disabledGestures.get(gestureName);\r\n    if (set !== undefined) {\r\n      set.delete(id);\r\n    }\r\n  }\r\n\r\n  disableScroll(id: number) {\r\n    this.disabledScroll.add(id);\r\n    if (this.disabledScroll.size === 1) {\r\n      document.body.classList.add(BACKDROP_NO_SCROLL);\r\n    }\r\n  }\r\n\r\n  enableScroll(id: number) {\r\n    this.disabledScroll.delete(id);\r\n    if (this.disabledScroll.size === 0) {\r\n      document.body.classList.remove(BACKDROP_NO_SCROLL);\r\n    }\r\n  }\r\n\r\n  canStart(gestureName: string): boolean {\r\n    if (this.capturedId !== undefined) {\r\n      // a gesture already captured\r\n      return false;\r\n    }\r\n\r\n    if (this.isDisabled(gestureName)) {\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  isCaptured(): boolean {\r\n    return this.capturedId !== undefined;\r\n  }\r\n\r\n  isScrollDisabled(): boolean {\r\n    return this.disabledScroll.size > 0;\r\n  }\r\n\r\n  isDisabled(gestureName: string): boolean {\r\n    const disabled = this.disabledGestures.get(gestureName);\r\n    if (disabled && disabled.size > 0) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  private newID(): number {\r\n    this.gestureId++;\r\n    return this.gestureId;\r\n  }\r\n}\r\n\r\nclass GestureDelegate {\r\n  private ctrl?: GestureController;\r\n  private priority: number;\r\n\r\n  constructor(\r\n    ctrl: GestureController,\r\n    private id: number,\r\n    private name: string,\r\n    priority: number,\r\n    private disableScroll: boolean\r\n  ) {\r\n    this.priority = priority * 1000000 + id;\r\n    this.ctrl = ctrl;\r\n  }\r\n\r\n  canStart(): boolean {\r\n    if (!this.ctrl) {\r\n      return false;\r\n    }\r\n\r\n    return this.ctrl.canStart(this.name);\r\n  }\r\n\r\n  start(): boolean {\r\n    if (!this.ctrl) {\r\n      return false;\r\n    }\r\n\r\n    return this.ctrl.start(this.name, this.id, this.priority);\r\n  }\r\n\r\n  capture(): boolean {\r\n    if (!this.ctrl) {\r\n      return false;\r\n    }\r\n\r\n    const captured = this.ctrl.capture(this.name, this.id, this.priority);\r\n    if (captured && this.disableScroll) {\r\n      this.ctrl.disableScroll(this.id);\r\n    }\r\n\r\n    return captured;\r\n  }\r\n\r\n  release() {\r\n    if (this.ctrl) {\r\n      this.ctrl.release(this.id);\r\n\r\n      if (this.disableScroll) {\r\n        this.ctrl.enableScroll(this.id);\r\n      }\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    this.release();\r\n    this.ctrl = undefined;\r\n  }\r\n}\r\n\r\nclass BlockerDelegate {\r\n\r\n  private ctrl?: GestureController;\r\n\r\n  constructor(\r\n    ctrl: GestureController,\r\n    private id: number,\r\n    private disable: string[] | undefined,\r\n    private disableScroll: boolean\r\n  ) {\r\n    this.ctrl = ctrl;\r\n  }\r\n\r\n  block() {\r\n    if (!this.ctrl) {\r\n      return;\r\n    }\r\n    if (this.disable) {\r\n      for (const gesture of this.disable) {\r\n        this.ctrl.disableGesture(gesture, this.id);\r\n      }\r\n    }\r\n\r\n    if (this.disableScroll) {\r\n      this.ctrl.disableScroll(this.id);\r\n    }\r\n  }\r\n\r\n  unblock() {\r\n    if (!this.ctrl) {\r\n      return;\r\n    }\r\n    if (this.disable) {\r\n      for (const gesture of this.disable) {\r\n        this.ctrl.enableGesture(gesture, this.id);\r\n      }\r\n    }\r\n    if (this.disableScroll) {\r\n      this.ctrl.enableScroll(this.id);\r\n    }\r\n  }\r\n\r\n  destroy() {\r\n    this.unblock();\r\n    this.ctrl = undefined;\r\n  }\r\n}\r\n\r\nexport interface GestureConfig {\r\n  name: string;\r\n  priority?: number;\r\n  disableScroll?: boolean;\r\n}\r\n\r\nexport interface BlockerConfig {\r\n  disable?: string[];\r\n  disableScroll?: boolean;\r\n}\r\n\r\nconst BACKDROP_NO_SCROLL = 'backdrop-no-scroll';\r\nexport const GESTURE_CONTROLLER = new GestureController();\r\n","\r\nexport const addEventListener = (\r\n  el: any,\r\n  eventName: string,\r\n  callback: EventListenerOrEventListenerObject,\r\n  opts: {\r\n    passive?: boolean;\r\n    capture?: boolean\r\n  }\r\n): (() => void) => {\r\n  // use event listener options when supported\r\n  // otherwise it's just a boolean for the \"capture\" arg\r\n  const listenerOpts = supportsPassive(el) ? {\r\n    'capture': !!opts.capture,\r\n    'passive': !!opts.passive,\r\n  } : !!opts.capture;\r\n\r\n  let add: string;\r\n  let remove: string;\r\n  if (el['__zone_symbol__addEventListener']) {\r\n    add = '__zone_symbol__addEventListener';\r\n    remove = '__zone_symbol__removeEventListener';\r\n  } else {\r\n    add = 'addEventListener';\r\n    remove = 'removeEventListener';\r\n  }\r\n\r\n  el[add](eventName, callback, listenerOpts);\r\n  return () => {\r\n    el[remove](eventName, callback, listenerOpts);\r\n  };\r\n};\r\n\r\nconst supportsPassive = (node: Node) => {\r\n  if (_sPassive === undefined) {\r\n    try {\r\n      const opts = Object.defineProperty({}, 'passive', {\r\n        get: () => {\r\n          _sPassive = true;\r\n        }\r\n      });\r\n      node.addEventListener('optsTest', () => { return; }, opts);\r\n    } catch (e) {\r\n      _sPassive = false;\r\n    }\r\n  }\r\n  return !!_sPassive;\r\n};\r\n\r\nlet _sPassive: boolean | undefined;\r\n","import { addEventListener } from './listener';\r\n\r\nconst MOUSE_WAIT = 2000;\r\n\r\nexport const createPointerEvents = (\r\n  el: Node,\r\n  pointerDown: any,\r\n  pointerMove: any,\r\n  pointerUp: any,\r\n  options: {\r\n    passive?: boolean;\r\n    capture?: boolean\r\n  }\r\n) => {\r\n\r\n  let rmTouchStart: (() => void) | undefined;\r\n  let rmTouchMove: (() => void) | undefined;\r\n  let rmTouchEnd: (() => void) | undefined;\r\n  let rmTouchCancel: (() => void) | undefined;\r\n  let rmMouseStart: (() => void) | undefined;\r\n  let rmMouseMove: (() => void) | undefined;\r\n  let rmMouseUp: (() => void) | undefined;\r\n  let lastTouchEvent = 0;\r\n\r\n  const handleTouchStart = (ev: any) => {\r\n    lastTouchEvent = Date.now() + MOUSE_WAIT;\r\n    if (!pointerDown(ev)) {\r\n      return;\r\n    }\r\n    if (!rmTouchMove && pointerMove) {\r\n      rmTouchMove = addEventListener(el, 'touchmove', pointerMove, options);\r\n    }\r\n    if (!rmTouchEnd) {\r\n      rmTouchEnd = addEventListener(el, 'touchend', handleTouchEnd, options);\r\n    }\r\n    if (!rmTouchCancel) {\r\n      rmTouchCancel = addEventListener(el, 'touchcancel', handleTouchEnd, options);\r\n    }\r\n  };\r\n\r\n  const handleMouseDown = (ev: any) => {\r\n    if (lastTouchEvent > Date.now()) {\r\n      return;\r\n    }\r\n    if (!pointerDown(ev)) {\r\n      return;\r\n    }\r\n    if (!rmMouseMove && pointerMove) {\r\n      rmMouseMove = addEventListener(getDocument(el), 'mousemove', pointerMove, options);\r\n    }\r\n    if (!rmMouseUp) {\r\n      rmMouseUp = addEventListener(getDocument(el), 'mouseup', handleMouseUp, options);\r\n    }\r\n  };\r\n\r\n  const handleTouchEnd = (ev: any) => {\r\n    stopTouch();\r\n    if (pointerUp) {\r\n      pointerUp(ev);\r\n    }\r\n  };\r\n\r\n  const handleMouseUp = (ev: any) => {\r\n    stopMouse();\r\n    if (pointerUp) {\r\n      pointerUp(ev);\r\n    }\r\n  };\r\n\r\n  const stopTouch = () => {\r\n    if (rmTouchMove) {\r\n      rmTouchMove();\r\n    }\r\n    if (rmTouchEnd) {\r\n      rmTouchEnd();\r\n    }\r\n    if (rmTouchCancel) {\r\n      rmTouchCancel();\r\n    }\r\n    rmTouchMove = rmTouchEnd = rmTouchCancel = undefined;\r\n  };\r\n\r\n  const stopMouse = () => {\r\n    if (rmMouseMove) {\r\n      rmMouseMove();\r\n    }\r\n    if (rmMouseUp) {\r\n      rmMouseUp();\r\n    }\r\n    rmMouseMove = rmMouseUp = undefined;\r\n  };\r\n\r\n  const stop = () => {\r\n    stopTouch();\r\n    stopMouse();\r\n  };\r\n\r\n  const enable = (isEnabled = true) => {\r\n    if (!isEnabled) {\r\n      if (rmTouchStart) {\r\n        rmTouchStart();\r\n      }\r\n      if (rmMouseStart) {\r\n        rmMouseStart();\r\n      }\r\n      rmTouchStart = rmMouseStart = undefined;\r\n      stop();\r\n\r\n    } else {\r\n      if (!rmTouchStart) {\r\n        rmTouchStart = addEventListener(el, 'touchstart', handleTouchStart, options);\r\n      }\r\n      if (!rmMouseStart) {\r\n        rmMouseStart = addEventListener(el, 'mousedown', handleMouseDown, options);\r\n      }\r\n    }\r\n  };\r\n\r\n  const destroy = () => {\r\n    enable(false);\r\n    pointerUp = pointerMove = pointerDown = undefined;\r\n  };\r\n\r\n  return {\r\n    enable,\r\n    stop,\r\n    destroy\r\n  };\r\n};\r\n\r\nconst getDocument = (node: Node) => {\r\n  return node instanceof Document ? node : node.ownerDocument;\r\n};\r\n\r\nexport interface PointerEventsConfig {\r\n  element?: HTMLElement;\r\n  pointerDown: (ev: any) => boolean;\r\n  pointerMove?: (ev: any) => void;\r\n  pointerUp?: (ev: any) => void;\r\n  zone?: boolean;\r\n  capture?: boolean;\r\n  passive?: boolean;\r\n}\r\n","\r\nexport interface PanRecognizer {\r\n  start(x: number, y: number): void;\r\n  detect(x: number, y: number): boolean;\r\n  isGesture(): boolean;\r\n  getDirection(): number;\r\n}\r\n\r\nexport const createPanRecognizer = (direction: string, thresh: number, maxAngle: number): PanRecognizer => {\r\n  const radians = maxAngle * (Math.PI / 180);\r\n  const isDirX = direction === 'x';\r\n  const maxCosine = Math.cos(radians);\r\n  const threshold = thresh * thresh;\r\n\r\n  let startX = 0;\r\n  let startY = 0;\r\n\r\n  let dirty = false;\r\n  let isPan = 0;\r\n\r\n  return {\r\n    start(x: number, y: number) {\r\n      startX = x;\r\n      startY = y;\r\n      isPan = 0;\r\n      dirty = true;\r\n    },\r\n\r\n    detect(x: number, y: number): boolean {\r\n      if (!dirty) {\r\n        return false;\r\n      }\r\n\r\n      const deltaX = (x - startX);\r\n      const deltaY = (y - startY);\r\n      const distance = deltaX * deltaX + deltaY * deltaY;\r\n\r\n      if (distance < threshold) {\r\n        return false;\r\n      }\r\n      const hypotenuse = Math.sqrt(distance);\r\n      const cosine = (isDirX ? deltaX : deltaY) / hypotenuse;\r\n\r\n      if (cosine > maxCosine) {\r\n        isPan = 1;\r\n\r\n      } else if (cosine < -maxCosine) {\r\n        isPan = -1;\r\n\r\n      } else {\r\n        isPan = 0;\r\n      }\r\n\r\n      dirty = false;\r\n      return true;\r\n    },\r\n\r\n    isGesture(): boolean {\r\n      return isPan !== 0;\r\n    },\r\n\r\n    getDirection(): number {\r\n      return isPan;\r\n    }\r\n  };\r\n};\r\n","import { GESTURE_CONTROLLER } from './gesture-controller';\r\nimport { createPointerEvents } from './pointer-events';\r\nimport { createPanRecognizer } from './recognizers';\r\n\r\nexport const createGesture = (config: GestureConfig): Gesture => {\r\n  let hasCapturedPan = false;\r\n  let hasStartedPan = false;\r\n  let hasFiredStart = true;\r\n  let isMoveQueued = false;\r\n\r\n  const finalConfig = {\r\n    disableScroll: false,\r\n    direction: 'x',\r\n    gesturePriority: 0,\r\n    passive: true,\r\n    maxAngle: 40,\r\n    threshold: 10,\r\n\r\n    ...config,\r\n  };\r\n\r\n  const canStart = finalConfig.canStart;\r\n  const onWillStart = finalConfig.onWillStart;\r\n  const onStart = finalConfig.onStart;\r\n  const onEnd = finalConfig.onEnd;\r\n  const notCaptured = finalConfig.notCaptured;\r\n  const onMove = finalConfig.onMove;\r\n  const threshold = finalConfig.threshold;\r\n  const passive = finalConfig.passive;\r\n  const blurOnStart = finalConfig.blurOnStart;\r\n\r\n  const detail = {\r\n    type: 'pan',\r\n    startX: 0,\r\n    startY: 0,\r\n    startTime: 0,\r\n    currentX: 0,\r\n    currentY: 0,\r\n    velocityX: 0,\r\n    velocityY: 0,\r\n    deltaX: 0,\r\n    deltaY: 0,\r\n    currentTime: 0,\r\n    event: undefined as any,\r\n    data: undefined,\r\n  };\r\n\r\n  const pan = createPanRecognizer(\r\n    finalConfig.direction,\r\n    finalConfig.threshold,\r\n    finalConfig.maxAngle,\r\n  );\r\n  const gesture = GESTURE_CONTROLLER.createGesture({\r\n    name: config.gestureName,\r\n    priority: config.gesturePriority,\r\n    disableScroll: config.disableScroll,\r\n  });\r\n\r\n  const pointerDown = (ev: UIEvent): boolean => {\r\n    const timeStamp = now(ev);\r\n    if (hasStartedPan || !hasFiredStart) {\r\n      return false;\r\n    }\r\n\r\n    updateDetail(ev, detail);\r\n    detail.startX = detail.currentX;\r\n    detail.startY = detail.currentY;\r\n    detail.startTime = detail.currentTime = timeStamp;\r\n    detail.velocityX = detail.velocityY = detail.deltaX = detail.deltaY = 0;\r\n    detail.event = ev;\r\n\r\n    // Check if gesture can start\r\n    if (canStart && canStart(detail) === false) {\r\n      return false;\r\n    }\r\n    // Release fallback\r\n    gesture.release();\r\n\r\n    // Start gesture\r\n    if (!gesture.start()) {\r\n      return false;\r\n    }\r\n\r\n    hasStartedPan = true;\r\n    if (threshold === 0) {\r\n      return tryToCapturePan();\r\n    }\r\n    pan.start(detail.startX, detail.startY);\r\n    return true;\r\n  };\r\n\r\n  const pointerMove = (ev: UIEvent) => {\r\n    // fast path, if gesture is currently captured\r\n    // do minimum job to get user-land even dispatched\r\n    if (hasCapturedPan) {\r\n      if (!isMoveQueued && hasFiredStart) {\r\n        isMoveQueued = true;\r\n        calcGestureData(detail, ev);\r\n        requestAnimationFrame(fireOnMove);\r\n      }\r\n      return;\r\n    }\r\n\r\n    // gesture is currently being detected\r\n    calcGestureData(detail, ev);\r\n    if (pan.detect(detail.currentX, detail.currentY)) {\r\n      if (!pan.isGesture() || !tryToCapturePan()) {\r\n        abortGesture();\r\n      }\r\n    }\r\n  };\r\n\r\n  const fireOnMove = () => {\r\n    // Since fireOnMove is called inside a RAF, onEnd() might be called,\r\n    // we must double check hasCapturedPan\r\n    if (!hasCapturedPan) {\r\n      return;\r\n    }\r\n    isMoveQueued = false;\r\n    if (onMove) {\r\n      onMove(detail);\r\n    }\r\n  };\r\n\r\n  const tryToCapturePan = (): boolean => {\r\n    if (gesture && !gesture.capture()) {\r\n      return false;\r\n    }\r\n    hasCapturedPan = true;\r\n    hasFiredStart = false;\r\n\r\n    // reset start position since the real user-land event starts here\r\n    // If the pan detector threshold is big, not resetting the start position\r\n    // will cause a jump in the animation equal to the detector threshold.\r\n    // the array of positions used to calculate the gesture velocity does not\r\n    // need to be cleaned, more points in the positions array always results in a\r\n    // more accurate value of the velocity.\r\n    detail.startX = detail.currentX;\r\n    detail.startY = detail.currentY;\r\n    detail.startTime = detail.currentTime;\r\n\r\n    if (onWillStart) {\r\n      onWillStart(detail).then(fireOnStart);\r\n    } else {\r\n      fireOnStart();\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const blurActiveElement = () => {\r\n    /* tslint:disable-next-line */\r\n    if (typeof document !== 'undefined') {\r\n      const activeElement = document.activeElement as HTMLElement | null;\r\n      if (activeElement !== null && activeElement.blur) {\r\n        activeElement.blur();\r\n      }\r\n    }\r\n  };\r\n\r\n  const fireOnStart = () => {\r\n    if (blurOnStart) {\r\n      blurActiveElement();\r\n    }\r\n    if (onStart) {\r\n      onStart(detail);\r\n    }\r\n    hasFiredStart = true;\r\n  };\r\n\r\n  const reset = () => {\r\n    hasCapturedPan = false;\r\n    hasStartedPan = false;\r\n    isMoveQueued = false;\r\n    hasFiredStart = true;\r\n\r\n    gesture.release();\r\n  };\r\n\r\n  // END *************************\r\n\r\n  const pointerUp = (ev: UIEvent | undefined) => {\r\n    const tmpHasCaptured = hasCapturedPan;\r\n    const tmpHasFiredStart = hasFiredStart;\r\n    reset();\r\n\r\n    if (!tmpHasFiredStart) {\r\n      return;\r\n    }\r\n    calcGestureData(detail, ev);\r\n\r\n    // Try to capture press\r\n    if (tmpHasCaptured) {\r\n      if (onEnd) {\r\n        onEnd(detail);\r\n      }\r\n      return;\r\n    }\r\n\r\n    // Not captured any event\r\n    if (notCaptured) {\r\n      notCaptured(detail);\r\n    }\r\n  };\r\n\r\n  const pointerEvents = createPointerEvents(\r\n    finalConfig.el,\r\n    pointerDown,\r\n    pointerMove,\r\n    pointerUp,\r\n    {\r\n      capture: false,\r\n      passive,\r\n    },\r\n  );\r\n\r\n  const abortGesture = () => {\r\n    reset();\r\n    pointerEvents.stop();\r\n    if (notCaptured) {\r\n      notCaptured(detail);\r\n    }\r\n  };\r\n\r\n  return {\r\n    enable(enable = true) {\r\n      if (!enable) {\r\n        if (hasCapturedPan) {\r\n          pointerUp(undefined);\r\n        }\r\n\r\n        reset();\r\n      }\r\n      pointerEvents.enable(enable);\r\n    },\r\n    destroy() {\r\n      gesture.destroy();\r\n      pointerEvents.destroy();\r\n    },\r\n  };\r\n};\r\n\r\nconst calcGestureData = (detail: GestureDetail, ev: UIEvent | undefined) => {\r\n  if (!ev) {\r\n    return;\r\n  }\r\n  const prevX = detail.currentX;\r\n  const prevY = detail.currentY;\r\n  const prevT = detail.currentTime;\r\n\r\n  updateDetail(ev, detail);\r\n\r\n  const currentX = detail.currentX;\r\n  const currentY = detail.currentY;\r\n  const timestamp = (detail.currentTime = now(ev));\r\n  const timeDelta = timestamp - prevT;\r\n  if (timeDelta > 0 && timeDelta < 100) {\r\n    const velocityX = (currentX - prevX) / timeDelta;\r\n    const velocityY = (currentY - prevY) / timeDelta;\r\n    detail.velocityX = velocityX * 0.7 + detail.velocityX * 0.3;\r\n    detail.velocityY = velocityY * 0.7 + detail.velocityY * 0.3;\r\n  }\r\n  detail.deltaX = currentX - detail.startX;\r\n  detail.deltaY = currentY - detail.startY;\r\n  detail.event = ev;\r\n};\r\n\r\nconst updateDetail = (ev: any, detail: GestureDetail) => {\r\n  // get X coordinates for either a mouse click\r\n  // or a touch depending on the given event\r\n  let x = 0;\r\n  let y = 0;\r\n  if (ev) {\r\n    const changedTouches = ev.changedTouches;\r\n    if (changedTouches && changedTouches.length > 0) {\r\n      const touch = changedTouches[0];\r\n      x = touch.clientX;\r\n      y = touch.clientY;\r\n    } else if (ev.pageX !== undefined) {\r\n      x = ev.pageX;\r\n      y = ev.pageY;\r\n    }\r\n  }\r\n  detail.currentX = x;\r\n  detail.currentY = y;\r\n};\r\n\r\nconst now = (ev: UIEvent) => {\r\n  return ev.timeStamp || Date.now();\r\n};\r\n\r\nexport interface GestureDetail {\r\n  type: string;\r\n  startX: number;\r\n  startY: number;\r\n  startTime: number;\r\n  currentX: number;\r\n  currentY: number;\r\n  velocityX: number;\r\n  velocityY: number;\r\n  deltaX: number;\r\n  deltaY: number;\r\n  currentTime: number;\r\n  event: UIEvent;\r\n  data?: any;\r\n}\r\n\r\nexport type GestureCallback = (detail: GestureDetail) => boolean | void;\r\n\r\nexport interface Gesture {\r\n  enable(enable?: boolean): void;\r\n  destroy(): void;\r\n}\r\n\r\nexport interface GestureConfig {\r\n  el: Node;\r\n  disableScroll?: boolean;\r\n\r\n  direction?: 'x' | 'y';\r\n  gestureName: string;\r\n  gesturePriority?: number;\r\n  passive?: boolean;\r\n  maxAngle?: number;\r\n  threshold?: number;\r\n  blurOnStart?: boolean;\r\n\r\n  canStart?: GestureCallback;\r\n  onWillStart?: (_: GestureDetail) => Promise<void>;\r\n  onStart?: GestureCallback;\r\n  onMove?: GestureCallback;\r\n  onEnd?: GestureCallback;\r\n  notCaptured?: GestureCallback;\r\n}\r\n\r\nexport { GESTURE_CONTROLLER };\r\n",":host {\r\n  display: block;\r\n  background: var(--tp-color-neutral-1);\r\n  color: var(--tp-color-neutral-10);\r\n}\r\n\r\n.tp-calendar {\r\n  &__header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding-bottom: 24px;\r\n    background-color: transparent;\r\n  }\r\n\r\n  &__header-left {\r\n    display: flex;\r\n    align-items: center;\r\n    text-align: center;\r\n    width: 210px;\r\n  }\r\n\r\n  &__label {\r\n    flex: 1;\r\n  }\r\n\r\n  &__header-right {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n\r\n  &__icon {\r\n    color: var(--tp-color-neutral-8);\r\n  }\r\n\r\n  &__content-header {\r\n    display: grid;\r\n    grid-template-columns: repeat(7, 1fr);\r\n    text-align: center;\r\n  }\r\n\r\n  &__week-day {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    height: 24px;\r\n    margin: 0 auto;\r\n  }\r\n\r\n  &__container {\r\n    display: grid;\r\n    grid-template-columns: repeat(7, 1fr);\r\n    height: 100%;\r\n  }\r\n}\r\n\r\n//\r\n// color\r\n//\r\n:host(.tp-color) {\r\n  ::slotted(tp-calendar-day) {\r\n    --tp-active-color: var(--tp-color-contrast);\r\n    --tp-active-background: var(--tp-color-base);\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  Event,\r\n  EventEmitter,\r\n  h,\r\n  Host,\r\n  Prop,\r\n  State,\r\n} from '@stencil/core';\r\nimport { createColorClasses } from '../../../utils/functions/color.function';\r\nimport { TpColor } from '../../../utils/types/color.type';\r\nimport { TP_CALENDAR } from './utils/calendar.constant';\r\nimport {\r\n  TpCalendarChangeDirection,\r\n  TpCalendarTimeframe,\r\n} from './utils/calendar.type';\r\nimport { createGesture } from './utils/gesture';\r\nimport { Gesture, GestureConfig } from './utils/gesture/index';\r\n\r\n@Component({\r\n  tag: 'tp-calendar',\r\n  styleUrl: 'calendar.scss',\r\n  assetsDirs: ['assets'],\r\n  scoped: true,\r\n})\r\nexport class TpCalendar {\r\n  /**\r\n   * Define a variação de cor do componente.\r\n   */\r\n  @Prop({ reflect: true }) color: TpColor;\r\n\r\n  /**\r\n   * Define a etiqueta do conteúdo sendo exibido.\r\n   */\r\n  @Prop({ reflect: true }) label: string;\r\n\r\n  /**\r\n   * Define o valor inicial do intervalo de tempo que representa\r\n   * o conteúdo sendo exibido.\r\n   */\r\n  @Prop({ reflect: true }) initialTimeframe: TpCalendarTimeframe =\r\n    TP_CALENDAR.timeframes.week;\r\n\r\n  /**\r\n   * Define o valor atual do intervalo de tempo que representa\r\n   * o conteúdo sendo exibido.\r\n   */\r\n  @State() timeframe: TpCalendarTimeframe;\r\n\r\n  /**\r\n   * Evento emitido quando o conteúdo deve avançar ou retroceder\r\n   * por requisição do usuário\r\n   */\r\n  @Event() tpCalendarChange: EventEmitter;\r\n\r\n  /**\r\n   * Evento emitido quando o intervalo de tempo exibido deve mudar\r\n   * por requisição do usuário\r\n   */\r\n  @Event() tpTimeframeToggle: EventEmitter;\r\n\r\n  /**\r\n   * Objeto que representa as configurações de gestos (eventos customizados).\r\n   */\r\n  gesture: Gesture;\r\n\r\n  /**\r\n   * O container do conteúdo sendo exibido.\r\n   */\r\n  container: HTMLDivElement;\r\n\r\n  /**\r\n   * Métodos internos\r\n   */\r\n  onTimeframeToggle() {\r\n    const currentTimeframe = this.timeframe ?? this.initialTimeframe;\r\n    this.timeframe =\r\n      currentTimeframe === TP_CALENDAR.timeframes.week\r\n        ? TP_CALENDAR.timeframes.month\r\n        : TP_CALENDAR.timeframes.week;\r\n    this.tpTimeframeToggle.emit(this.timeframe);\r\n  }\r\n\r\n  onCalendarChange(direction: TpCalendarChangeDirection) {\r\n    this.tpCalendarChange.emit(direction);\r\n  }\r\n\r\n  setupGesture() {\r\n    let direction: TpCalendarChangeDirection;\r\n\r\n    const options: GestureConfig = {\r\n      el: this.container,\r\n      gestureName: 'swipe',\r\n      onStart: () => {},\r\n      onMove: (event) => {\r\n        if (event.deltaX > 0) {\r\n          direction = TP_CALENDAR.directions.left;\r\n        } else {\r\n          direction = TP_CALENDAR.directions.right;\r\n        }\r\n      },\r\n      onEnd: () => {\r\n        this.tpCalendarChange.emit(direction);\r\n      },\r\n    };\r\n\r\n    this.gesture = createGesture(options);\r\n    this.gesture.enable();\r\n  }\r\n\r\n  disconnectGesture() {\r\n    if (this.gesture) {\r\n      this.gesture.destroy();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Lifecycle hooks.\r\n   */\r\n  componentDidLoad() {\r\n    this.setupGesture();\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this.disconnectGesture();\r\n  }\r\n\r\n  render() {\r\n    const { color, label, initialTimeframe, timeframe } = this;\r\n\r\n    return (\r\n      <Host\r\n        class={createColorClasses(color, {\r\n          'tp-calendar': true,\r\n        })}\r\n      >\r\n        <div class=\"tp-calendar__header\">\r\n          <div class=\"tp-calendar__header-left\">\r\n            <ion-button\r\n              // @ts-ignore\r\n              size=\"xxs\"\r\n              fill=\"clear\"\r\n              onClick={() => this.onCalendarChange(TP_CALENDAR.directions.left)}\r\n            >\r\n              <ion-icon\r\n                slot=\"icon-only\"\r\n                src={TP_CALENDAR.icons.chevronLeft}\r\n              ></ion-icon>\r\n            </ion-button>\r\n\r\n            <ion-text class=\"tp-calendar__label\" tp-type=\"p16b\">\r\n              {label}\r\n            </ion-text>\r\n\r\n            <ion-button\r\n              // @ts-ignore\r\n              size=\"xxs\"\r\n              fill=\"clear\"\r\n              onClick={() =>\r\n                this.onCalendarChange(TP_CALENDAR.directions.right)\r\n              }\r\n            >\r\n              <ion-icon\r\n                slot=\"icon-only\"\r\n                src={TP_CALENDAR.icons.chevronRight}\r\n              ></ion-icon>\r\n            </ion-button>\r\n          </div>\r\n\r\n          <div class=\"tp-calendar__header-right\">\r\n            <ion-button\r\n              // @ts-ignore\r\n              size=\"xxs\"\r\n              fill=\"clear\"\r\n              onClick={() => this.onTimeframeToggle()}\r\n            >\r\n              {timeframe ?? initialTimeframe}\r\n\r\n              <ion-icon\r\n                class=\"tp-calendar__icon\"\r\n                slot=\"end\"\r\n                src={TP_CALENDAR.icons.chevronDown}\r\n              ></ion-icon>\r\n            </ion-button>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"tp-calendar__content\">\r\n          <div class=\"tp-calendar__content-header\">\r\n            {TP_CALENDAR.weekdays.map((day) => (\r\n              <div class=\"tp-calendar__week-day\">\r\n                <ion-text tp-type=\"p12\" color=\"neutral-8\">\r\n                  {day}\r\n                </ion-text>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <div\r\n            class=\"tp-calendar__container\"\r\n            ref={(el) => (this.container = el)}\r\n          >\r\n            <slot></slot>\r\n          </div>\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"version":3}