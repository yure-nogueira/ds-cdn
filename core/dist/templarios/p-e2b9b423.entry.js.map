{"version":3,"names":["TP_SEGMENT_WRAPPER_CLASS","TP_SEGMENT_GRADIENT_SHOW_CLASS","TpSegmentContainerGradient","segmentContainerCss","TpSegmentContainerStyle0","TpSegmentContainer","componentDidLoad","this","wrapperEl","host","shadowRoot","querySelector","hasScroll","scrollWidth","clientWidth","addGradient","END","addEventListener","updateGradient","bind","position","classList","contains","add","removeGradient","remove","START","isAtStart","scrollLeft","isAtEnd","Math","floor","ceil","onWindowReize","disconnectedCallback","removeEventListener","render","h","Host","key","class"],"sources":["src/components/core/segment-container/utils/segment-container.constant.ts","src/components/core/segment-container/utils/segment-container.enum.ts","src/components/core/segment-container/segment-container.scss?tag=tp-segment-container&encapsulation=shadow","src/components/core/segment-container/segment-container.tsx"],"sourcesContent":["export const TP_SEGMENT_WRAPPER_CLASS = 'tp-segment-container__wrapper';\r\nexport const TP_SEGMENT_GRADIENT_SHOW_CLASS =\r\n  'tp-segment-container--show-gradient';\r\n","export enum TpSegmentContainerGradient {\r\n  START = 'start',\r\n  END = 'end',\r\n}\r\n","@import './../../../styles/definitions/scroll';\r\n\r\n:host {\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.tp-segment-container {\r\n  &__wrapper {\r\n    display: flex;\r\n    overflow-x: auto;\r\n    @include generate-scroll-style();\r\n  }\r\n\r\n  &__gradient {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    pointer-events: none;\r\n\r\n    &::before,\r\n    &::after {\r\n      position: absolute;\r\n      top: 0;\r\n      display: none;\r\n      width: 32px;\r\n      height: 100%;\r\n      content: '';\r\n    }\r\n\r\n    &::before {\r\n      left: 0;\r\n      background: linear-gradient(\r\n        to left,\r\n        transparent,\r\n        var(--tp-color-neutral-2)\r\n      );\r\n    }\r\n\r\n    &::after {\r\n      right: 0;\r\n      background: linear-gradient(\r\n        to right,\r\n        transparent,\r\n        var(--tp-color-neutral-2)\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\n:host(.tp-segment-container--show-gradient-start) {\r\n  .tp-segment-container__gradient::before {\r\n    display: block;\r\n  }\r\n}\r\n\r\n:host(.tp-segment-container--show-gradient-end) {\r\n  .tp-segment-container__gradient::after {\r\n    display: block;\r\n  }\r\n}\r\n","import { Component, Element, Host, Listen, h } from '@stencil/core';\r\nimport {\r\n  TP_SEGMENT_GRADIENT_SHOW_CLASS,\r\n  TP_SEGMENT_WRAPPER_CLASS,\r\n} from './utils/segment-container.constant';\r\nimport { TpSegmentContainerGradient } from './utils/segment-container.enum';\r\nimport { TpSegmentContainerType } from './utils/segment-container.type';\r\n\r\n@Component({\r\n  tag: 'tp-segment-container',\r\n  styleUrl: 'segment-container.scss',\r\n  shadow: true,\r\n})\r\nexport class TpSegmentContainer {\r\n  private wrapperEl: HTMLDivElement;\r\n  private hasScroll: boolean;\r\n\r\n  @Element() host!: HTMLElement;\r\n\r\n  componentDidLoad() {\r\n    this.wrapperEl = this.host.shadowRoot.querySelector(\r\n      `.${TP_SEGMENT_WRAPPER_CLASS}`,\r\n    ) as HTMLDivElement;\r\n\r\n    this.hasScroll = this.wrapperEl.scrollWidth > this.wrapperEl.clientWidth;\r\n\r\n    if (this.hasScroll) {\r\n      this.addGradient(TpSegmentContainerGradient.END);\r\n    }\r\n\r\n    this.wrapperEl.addEventListener('scroll', this.updateGradient.bind(this));\r\n  }\r\n\r\n  addGradient(position: TpSegmentContainerType['position']) {\r\n    if (\r\n      !this.host.classList.contains(\r\n        `${TP_SEGMENT_GRADIENT_SHOW_CLASS}-${position}`,\r\n      )\r\n    ) {\r\n      this.host.classList.add(`${TP_SEGMENT_GRADIENT_SHOW_CLASS}-${position}`);\r\n    }\r\n  }\r\n\r\n  removeGradient(position: TpSegmentContainerType['position']) {\r\n    if (\r\n      this.host.classList.contains(\r\n        `${TP_SEGMENT_GRADIENT_SHOW_CLASS}-${position}`,\r\n      )\r\n    ) {\r\n      this.host.classList.remove(\r\n        `${TP_SEGMENT_GRADIENT_SHOW_CLASS}-${position}`,\r\n      );\r\n    }\r\n  }\r\n\r\n  updateGradient() {\r\n    if (!this.hasScroll) {\r\n      this.removeGradient(TpSegmentContainerGradient.START);\r\n      this.removeGradient(TpSegmentContainerGradient.END);\r\n      return;\r\n    }\r\n\r\n    const isAtStart = this.wrapperEl.scrollLeft === 0;\r\n    const isAtEnd =\r\n      this.wrapperEl.scrollWidth ===\r\n        Math.floor(this.wrapperEl.clientWidth + this.wrapperEl.scrollLeft) ||\r\n      this.wrapperEl.scrollWidth ===\r\n        Math.ceil(this.wrapperEl.clientWidth + this.wrapperEl.scrollLeft);\r\n\r\n    if (isAtStart) {\r\n      this.removeGradient(TpSegmentContainerGradient.START);\r\n    }\r\n\r\n    if (!isAtStart) {\r\n      this.addGradient(TpSegmentContainerGradient.START);\r\n    }\r\n\r\n    if (isAtEnd) {\r\n      this.removeGradient(TpSegmentContainerGradient.END);\r\n    }\r\n\r\n    if (!isAtEnd) {\r\n      this.addGradient(TpSegmentContainerGradient.END);\r\n    }\r\n  }\r\n\r\n  @Listen('resize', { target: 'window' })\r\n  onWindowReize() {\r\n    this.hasScroll = this.wrapperEl.scrollWidth > this.wrapperEl.clientWidth;\r\n    this.updateGradient();\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this.wrapperEl.removeEventListener(\r\n      'scroll',\r\n      this.updateGradient.bind(this),\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host class=\"tp-segment-container\">\r\n        <div class=\"tp-segment-container__wrapper\">\r\n          <slot />\r\n          <div class=\"tp-segment-container__gradient\"></div>\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"yDAAO,MAAMA,EAA2B,gCACjC,MAAMC,EACX,sCCFF,IAAYC,GAAZ,SAAYA,GACVA,EAAA,iBACAA,EAAA,YACD,EAHD,CAAYA,MAA0B,KCAtC,MAAMC,EAAsB,wtDAC5B,MAAAC,EAAeD,E,MCYFE,EAAkB,M,yBAM7B,gBAAAC,GACEC,KAAKC,UAAYD,KAAKE,KAAKC,WAAWC,cACpC,IAAIX,KAGNO,KAAKK,UAAYL,KAAKC,UAAUK,YAAcN,KAAKC,UAAUM,YAE7D,GAAIP,KAAKK,UAAW,CAClBL,KAAKQ,YAAYb,EAA2Bc,I,CAG9CT,KAAKC,UAAUS,iBAAiB,SAAUV,KAAKW,eAAeC,KAAKZ,M,CAGrE,WAAAQ,CAAYK,GACV,IACGb,KAAKE,KAAKY,UAAUC,SACnB,GAAGrB,KAAkCmB,KAEvC,CACAb,KAAKE,KAAKY,UAAUE,IAAI,GAAGtB,KAAkCmB,I,EAIjE,cAAAI,CAAeJ,GACb,GACEb,KAAKE,KAAKY,UAAUC,SAClB,GAAGrB,KAAkCmB,KAEvC,CACAb,KAAKE,KAAKY,UAAUI,OAClB,GAAGxB,KAAkCmB,I,EAK3C,cAAAF,GACE,IAAKX,KAAKK,UAAW,CACnBL,KAAKiB,eAAetB,EAA2BwB,OAC/CnB,KAAKiB,eAAetB,EAA2Bc,KAC/C,M,CAGF,MAAMW,EAAYpB,KAAKC,UAAUoB,aAAe,EAChD,MAAMC,EACJtB,KAAKC,UAAUK,cACbiB,KAAKC,MAAMxB,KAAKC,UAAUM,YAAcP,KAAKC,UAAUoB,aACzDrB,KAAKC,UAAUK,cACbiB,KAAKE,KAAKzB,KAAKC,UAAUM,YAAcP,KAAKC,UAAUoB,YAE1D,GAAID,EAAW,CACbpB,KAAKiB,eAAetB,EAA2BwB,M,CAGjD,IAAKC,EAAW,CACdpB,KAAKQ,YAAYb,EAA2BwB,M,CAG9C,GAAIG,EAAS,CACXtB,KAAKiB,eAAetB,EAA2Bc,I,CAGjD,IAAKa,EAAS,CACZtB,KAAKQ,YAAYb,EAA2Bc,I,EAKhD,aAAAiB,GACE1B,KAAKK,UAAYL,KAAKC,UAAUK,YAAcN,KAAKC,UAAUM,YAC7DP,KAAKW,gB,CAGP,oBAAAgB,GACE3B,KAAKC,UAAU2B,oBACb,SACA5B,KAAKW,eAAeC,KAAKZ,M,CAI7B,MAAA6B,GACE,OACEC,EAACC,EAAI,CAAAC,IAAA,2CAACC,MAAM,wBACVH,EAAA,OAAAE,IAAA,2CAAKC,MAAM,iCACTH,EAAA,QAAAE,IAAA,6CACAF,EAAA,OAAAE,IAAA,2CAAKC,MAAM,oC"}