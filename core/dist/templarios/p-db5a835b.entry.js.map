{"version":3,"names":["inputContainerCss","TpInputContainer","this","alertTriangleIcon","getAssetPath","CheckIcon","selectIcon","setClickTarget","e","disabled","clickTarget","target","catchSelectIconClick","ionSelect","host","querySelector","shouldOpenOverlay","contains","hasAttribute","nodeName","open","setPopoverWidthOnResize","selectOpen","popoverElement","document","style","setProperty","clientWidth","setPopoverPosition","setPopoverCharacteristics","hostWidth","classList","inverted","unsetClikedState","componentDidLoad","hasSelect","interfaceOptions","cssClass","selectElement","top","bottom","left","getBoundingClientRect","fixPositionX","add","Math","round","window","innerHeight","render","color","state","loading","content","stateContent","selectIconContainer","icon","h","class","animated","src","name","Host","createColorClasses"],"sources":["src/components/templarios/input-container/input-container.scss?tag=tp-input-container&encapsulation=shadow","src/components/templarios/input-container/input-container.tsx"],"sourcesContent":["/* stylelint-disable order/properties-order */\n@import '../../../styles/templarios.abstracts';\n\n:host {\n  position: relative;\n  display: block;\n\n  // icon\n  ::slotted(ion-icon) {\n    color: var(--tp-color-neutral-6) !important;\n  }\n}\n\n.tp-input-container {\n  &__wrapper {\n    display: flex;\n    align-items: center;\n    margin: 8px 0;\n    background: var(--tp-color-neutral-2);\n    border: 1px solid var(--tp-color-neutral-2);\n    border-radius: 8px;\n\n    &:hover {\n      background: var(--tp-color-neutral-3);\n      border-color: var(--tp-color-neutral-3);\n    }\n\n    &:focus-within {\n      border-color: var(--tp-color-neutral-3);\n    }\n  }\n\n  &__icon-container {\n    display: flex;\n  }\n\n  &__state-container {\n    height: 24px;\n    margin-right: 16px;\n  }\n\n  &__select-container {\n    display: flex;\n  }\n\n  &__select-icon {\n    margin-right: 8px;\n    transition: transform ease-in-out 300ms;\n\n    &--open {\n      transform: rotate(-180deg);\n    }\n  }\n\n  &__skeleton {\n    --background-rgb: var(--tp-color-neutral-10-rgb);\n    --border-radius: 8px;\n    width: 100%;\n    height: 42px;\n    margin: 0;\n  }\n}\n\n::slotted(*[slot='feedback-error']) {\n  display: none;\n  color: var(--tp-color-warning) !important;\n}\n\n::slotted(*[slot='feedback-success']) {\n  display: none;\n  color: var(--tp-color-success) !important;\n}\n\n::slotted(ion-icon) {\n  --stroke: var(--tp-color-neutral-6) !important;\n  min-width: 24px !important;\n  margin-right: 16px;\n}\n\n::slotted(ion-icon[slot='start']) {\n  margin-left: 16px;\n}\n\n//\n// states\n//\n\n// invalid\n:host(.tp-input-container--error) {\n  .tp-input-container__wrapper {\n    border-color: var(--tp-color-warning);\n  }\n\n  ion-select {\n    max-width: calc(100% - 80px);\n  }\n\n  ::slotted(*[slot='feedback-error']) {\n    display: block;\n  }\n\n  .tp-input-container__icon {\n    color: var(--tp-color-warning);\n  }\n}\n\n// valid\n:host(.tp-input-container--success) {\n  .tp-input-container__wrapper {\n    border-color: var(--tp-color-success);\n  }\n\n  ::slotted(*[slot='feedback-success']) {\n    display: block;\n  }\n\n  .tp-input-container__icon {\n    color: var(--tp-color-success);\n  }\n}\n\n//\n// disabled\n//\n:host(.tp-input-container--disabled) {\n  .tp-input-container__wrapper {\n    opacity: 0.5;\n    pointer-events: none;\n\n    &:hover {\n      background: var(--tp-color-neutral-2);\n      border: 1px solid var(--tp-color-neutral-2);\n    }\n  }\n}\n\n//\n// select\n//\n\n// clicked\n:host(.tp-input-container.tp-input-container--select-open)\n  .tp-input-container__wrapper {\n  border-radius: 8px 8px 0 0 !important;\n  transition: border-radius 400ms ease-in-out;\n  pointer-events: none;\n}\n\n// inverted\n:host(.tp-input-container.tp-input-container--inverted)::slotted(ion-icon) {\n  transform: rotate(-180deg);\n}\n\n:host(\n    .tp-input-container.tp-input-container--inverted.tp-input-container--select-open\n  ) {\n  &:not(.tp-input-container--disabled) {\n    border-radius: 0 0 8px 8px !important;\n  }\n}\n\n// select\n:host(.tp-input-container.tp-input-container--with-select) {\n  &:not(.tp-input-container--disabled) {\n    cursor: pointer;\n\n    &::slotted(ion-icon) {\n      transition: transform 400ms linear;\n    }\n  }\n}\n\n:host(\n    .tp-input-container.tp-input-container--with-select.tp-input-container--select-open\n  ) {\n  &:not(.tp-input-container--disabled)::slotted(ion-icon) {\n    transform: rotate(-180deg);\n  }\n}\n\n:host(\n    .tp-input-container.tp-input-container--with-select.tp-input-container--select-open.tp-input-container--inverted\n  ) {\n  &:not(.tp-input-container--disabled)::slotted(ion-icon) {\n    transform: rotate(0deg);\n  }\n}\n\n//\n// color\n//\n:host(.tp-color) {\n  .tp-input-container__wrapper {\n    background: var(--tp-color-base);\n    border-color: var(--tp-color-base);\n\n    &:hover {\n      background: var(--tp-color-shade);\n      border-color: var(--tp-color-shade);\n    }\n\n    &:focus-within {\n      border-color: var(--tp-color-tint);\n    }\n  }\n\n  // input\n  ::slotted(ion-input.sc-ion-input-md-h) {\n    --color: var(--tp-color-contrast) !important;\n    --placeholder-color: var(--tp-color-contrast) !important;\n  }\n\n  // input clear-icon\n  ::slotted(ion-input[clear-input]) {\n    --tp-fill-clear-icon: var(--tp-color-contrast) !important;\n  }\n\n  // searchbar\n  ::slotted(ion-searchbar.sc-ion-searchbar-md-h) {\n    --color: var(--tp-color-contrast) !important;\n    --placeholder-color: var(--tp-color-contrast) !important;\n    --tp-stroke-icon: var(--tp-color-contrast) !important;\n  }\n\n  // textarea\n  ::slotted(ion-textarea.sc-ion-textarea-md-h) {\n    --color: var(--tp-color-contrast) !important;\n    --placeholder-color: var(--tp-color-contrast) !important;\n  }\n\n  // datetime\n  ::slotted(ion-datetime-button) {\n    --tp-color: var(--tp-color-contrast) !important;\n  }\n\n  // icon\n  ::slotted(ion-icon) {\n    --ion-color-base: var(--tp-color-contrast) !important;\n    --stroke: var(--ion-color-base) !important;\n    color: var(--tp-color-contrast) !important;\n  }\n}\n","import {\n  Component,\n  Element,\n  Host,\n  Listen,\n  Prop,\n  State,\n  getAssetPath,\n  h,\n} from '@stencil/core';\nimport { createColorClasses } from '../../../utils/functions/color.function';\nimport type { TpColor } from '../../../utils/types/color.type';\n\n@Component({\n  tag: 'tp-input-container',\n  styleUrl: 'input-container.scss',\n  assetsDirs: ['assets'],\n  shadow: true,\n})\nexport class TpInputContainer {\n  private alertTriangleIcon = getAssetPath('./assets/tp-alert-triangle.svg');\n  private CheckIcon = getAssetPath('./assets/tp-check.svg');\n  private selectIcon = getAssetPath('./assets/tp-chevron-down.svg');\n\n  /**\n   * Quando usado em conjunto com 'select', representa a largura do 'select' definida dinamicamente.\n   */\n  private hostWidth: number | undefined;\n\n  /**\n   * Referência ao componente no DOM.\n   */\n  @Element() host!: HTMLElement;\n\n  /**\n   * Alvo do evento de click. Evita bugs nos casos em que há mais de um 'select na mesma página.\n   */\n  @State() clickTarget!: Node;\n\n  /**\n   * Monitoria se o 'select' foi clicado e está ativo. A propriedade é usada para aplicar estilização e evitar processamentos desnecessários em alguns métodos.\n   */\n  @State() selectOpen: boolean = false;\n\n  /**\n   * ???\n   */\n  @State() hasSelect: boolean = false;\n\n  /**\n   * Define a variação de cor do componente.\n   */\n  @Prop({ reflect: true }) color?: TpColor;\n\n  /**\n   * Define a variação de estado do componente.\n   */\n  @Prop({ reflect: true }) state?: 'error' | 'success';\n\n  /**\n   * Define a estilização do estado disabled do componente.\n   */\n  @Prop({ reflect: true }) disabled = false;\n\n  /**\n   * ???\n   */\n  @Prop({ reflect: true }) inverted = false;\n\n  /**\n   * Define o estado de carregamento do componente.\n   */\n  @Prop({ reflect: true, mutable: true }) loading?: boolean;\n\n  @Listen('click', { target: 'body' })\n  setClickTarget(e: MouseEvent) {\n    if (this.disabled) return;\n\n    this.clickTarget = e.target as Node;\n  }\n\n  @Listen('click')\n  catchSelectIconClick(e: MouseEvent) {\n    const target = e.target as Node;\n    const ionSelect = this.host.querySelector(\n      'ion-select',\n    ) as HTMLIonSelectElement;\n\n    if (!ionSelect) return;\n\n    const shouldOpenOverlay =\n      this.host.contains(target) &&\n      ionSelect.hasAttribute('interface') &&\n      (target.nodeName === 'ION-ICON' ||\n        target.nodeName === 'TP-INPUT-CONTAINER');\n\n    if (shouldOpenOverlay) {\n      ionSelect.open(e);\n    }\n  }\n\n  @Listen('resize', { target: 'window' })\n  setPopoverWidthOnResize() {\n    if (!this.selectOpen) return;\n\n    const popoverElement = document.querySelector(\n      '.select-popover',\n    ) as HTMLElement;\n\n    popoverElement?.style.setProperty('--width', `${this.host.clientWidth}px`);\n\n    this.setPopoverPosition();\n  }\n\n  @Listen('ionPopoverWillPresent', { target: 'body' })\n  setPopoverCharacteristics() {\n    if (!this.host.contains(this.clickTarget)) return;\n\n    this.selectOpen = true;\n    this.hostWidth = this.host.clientWidth;\n\n    const popoverElement = document.querySelector(\n      '.select-popover',\n    ) as HTMLElement;\n    popoverElement?.style.setProperty('--width', `${this.hostWidth}px`);\n\n    if (popoverElement.classList.contains('popover-bottom')) {\n      this.inverted = true;\n    }\n\n    this.setPopoverPosition();\n  }\n\n  @Listen('ionPopoverWillDismiss', { target: 'body' })\n  unsetClikedState() {\n    this.selectOpen = false;\n  }\n\n  componentDidLoad() {\n    const ionSelect = this.host.querySelector(\n      'ION-SELECT',\n    ) as HTMLIonSelectElement;\n\n    if (ionSelect) {\n      this.hasSelect = true;\n\n      if (!ionSelect.hasAttribute('interface')) {\n        ionSelect.interfaceOptions = { cssClass: 'tp-hide' };\n      }\n    }\n  }\n\n  setPopoverPosition() {\n    const popoverElement = document.querySelector(\n      '.select-popover',\n    ) as HTMLElement;\n    const selectElement = this.host.querySelector('ion-select');\n    const { top, bottom, left } = selectElement.getBoundingClientRect();\n    const fixPositionX = 1;\n\n    if (this.inverted) {\n      popoverElement.classList.add('tp-popover--inverted');\n      popoverElement?.style.setProperty(\n        '--offset-x',\n        `${Math.round(left) - fixPositionX}px`,\n      );\n      popoverElement?.style.setProperty(\n        '--offset-y',\n        `${Math.round(window.innerHeight - top)}px`,\n      );\n    } else {\n      popoverElement?.style.setProperty(\n        '--offset-x',\n        `${Math.round(left) - fixPositionX}px`,\n      );\n      popoverElement?.style.setProperty(\n        '--offset-y',\n        `${Math.round(bottom)}px`,\n      );\n    }\n  }\n\n  render() {\n    const {\n      color,\n      state,\n      disabled,\n      alertTriangleIcon,\n      CheckIcon,\n      hasSelect,\n      selectIcon,\n      selectOpen,\n      loading,\n    } = this;\n    let content;\n    let stateContent;\n    let selectIconContainer;\n\n    const icon = state === 'error' ? alertTriangleIcon : CheckIcon;\n\n    if (loading) {\n      content = (\n        <ion-skeleton-text\n          class=\"tp-input-container__skeleton\"\n          animated\n        ></ion-skeleton-text>\n      );\n    } else {\n      if (this.hasSelect) {\n        selectIconContainer = (\n          <div class=\"tp-input-container__select-container\">\n            <ion-icon\n              class={{\n                'tp-input-container__select-icon': true,\n                'tp-input-container__select-icon--open': selectOpen,\n              }}\n              src={selectIcon}\n              aria-hidden=\"true\"\n            ></ion-icon>\n          </div>\n        );\n      }\n\n      if (state) {\n        stateContent = (\n          <div class=\"tp-input-container__state-container\">\n            <ion-icon\n              class=\"tp-input-container__icon\"\n              src={icon}\n              aria-hidden=\"true\"\n            ></ion-icon>\n          </div>\n        );\n      }\n\n      content = (\n        <div>\n          <slot name=\"label\"></slot>\n          <div class=\"tp-input-container__wrapper\">\n            <slot name=\"start\"></slot>\n            <slot></slot>\n            <slot name=\"end\"></slot>\n            {selectIconContainer}\n            {stateContent}\n          </div>\n          <slot name=\"feedback-success\"></slot>\n          <slot name=\"feedback-error\"></slot>\n        </div>\n      );\n    }\n\n    return (\n      <Host\n        class={createColorClasses(color, {\n          'tp-input-container': true,\n          'tp-input-container--error': state === 'error',\n          'tp-input-container--success': state === 'success',\n          'tp-input-container--disabled': disabled,\n          'tp-input-container--with-select': hasSelect,\n          'tp-input-container--select-open': selectOpen,\n        })}\n      >\n        {content}\n      </Host>\n    );\n  }\n}\n"],"mappings":"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"}