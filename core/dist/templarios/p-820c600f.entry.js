import{g as e,r as t,c as s,h as n,H as i}from"./p-5c36ed66.js";import{c as r}from"./p-9655f2f1.js";const a={icons:{chevronRight:e("./assets/tp-chevron-right.svg"),chevronLeft:e("./assets/tp-chevron-left.svg"),chevronDown:e("./assets/tp-chevron-down.svg")},weekdays:["Seg","Ter","Qua","Qui","Sex","Sab","Dom"],timeframes:{week:"Semana",month:"MÃªs"},directions:{left:"left",right:"right"}};class c{constructor(){this.gestureId=0;this.requestedStart=new Map;this.disabledGestures=new Map;this.disabledScroll=new Set}createGesture(e){return new o(this,this.newID(),e.name,e.priority||0,!!e.disableScroll)}createBlocker(e={}){return new l(this,this.newID(),e.disable,!!e.disableScroll)}start(e,t,s){if(!this.canStart(e)){this.requestedStart.delete(t);return false}this.requestedStart.set(t,s);return true}capture(e,t,s){if(!this.start(e,t,s)){return false}const n=this.requestedStart;let i=-1e4;n.forEach((e=>{i=Math.max(i,e)}));if(i===s){this.capturedId=t;n.clear();const s=new CustomEvent("ionGestureCaptured",{detail:{gestureName:e}});document.dispatchEvent(s);return true}n.delete(t);return false}release(e){this.requestedStart.delete(e);if(this.capturedId===e){this.capturedId=undefined}}disableGesture(e,t){let s=this.disabledGestures.get(e);if(s===undefined){s=new Set;this.disabledGestures.set(e,s)}s.add(t)}enableGesture(e,t){const s=this.disabledGestures.get(e);if(s!==undefined){s.delete(t)}}disableScroll(e){this.disabledScroll.add(e);if(this.disabledScroll.size===1){document.body.classList.add(f)}}enableScroll(e){this.disabledScroll.delete(e);if(this.disabledScroll.size===0){document.body.classList.remove(f)}}canStart(e){if(this.capturedId!==undefined){return false}if(this.isDisabled(e)){return false}return true}isCaptured(){return this.capturedId!==undefined}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(e){const t=this.disabledGestures.get(e);if(t&&t.size>0){return true}return false}newID(){this.gestureId++;return this.gestureId}}class o{constructor(e,t,s,n,i){this.id=t;this.name=s;this.disableScroll=i;this.priority=n*1e6+t;this.ctrl=e}canStart(){if(!this.ctrl){return false}return this.ctrl.canStart(this.name)}start(){if(!this.ctrl){return false}return this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl){return false}const e=this.ctrl.capture(this.name,this.id,this.priority);if(e&&this.disableScroll){this.ctrl.disableScroll(this.id)}return e}release(){if(this.ctrl){this.ctrl.release(this.id);if(this.disableScroll){this.ctrl.enableScroll(this.id)}}}destroy(){this.release();this.ctrl=undefined}}class l{constructor(e,t,s,n){this.id=t;this.disable=s;this.disableScroll=n;this.ctrl=e}block(){if(!this.ctrl){return}if(this.disable){for(const e of this.disable){this.ctrl.disableGesture(e,this.id)}}if(this.disableScroll){this.ctrl.disableScroll(this.id)}}unblock(){if(!this.ctrl){return}if(this.disable){for(const e of this.disable){this.ctrl.enableGesture(e,this.id)}}if(this.disableScroll){this.ctrl.enableScroll(this.id)}}destroy(){this.unblock();this.ctrl=undefined}}const f="backdrop-no-scroll";const d=new c;const h=(e,t,s,n)=>{const i=u(e)?{capture:!!n.capture,passive:!!n.passive}:!!n.capture;let r;let a;if(e["__zone_symbol__addEventListener"]){r="__zone_symbol__addEventListener";a="__zone_symbol__removeEventListener"}else{r="addEventListener";a="removeEventListener"}e[r](t,s,i);return()=>{e[a](t,s,i)}};const u=e=>{if(p===undefined){try{const t=Object.defineProperty({},"passive",{get:()=>{p=true}});e.addEventListener("optsTest",(()=>{}),t)}catch(e){p=false}}return!!p};let p;const b=2e3;const m=(e,t,s,n,i)=>{let r;let a;let c;let o;let l;let f;let d;let u=0;const p=n=>{u=Date.now()+b;if(!t(n)){return}if(!a&&s){a=h(e,"touchmove",s,i)}if(!c){c=h(e,"touchend",_,i)}if(!o){o=h(e,"touchcancel",_,i)}};const m=n=>{if(u>Date.now()){return}if(!t(n)){return}if(!f&&s){f=h(y(e),"mousemove",s,i)}if(!d){d=h(y(e),"mouseup",v,i)}};const _=e=>{g();if(n){n(e)}};const v=e=>{k();if(n){n(e)}};const g=()=>{if(a){a()}if(c){c()}if(o){o()}a=c=o=undefined};const k=()=>{if(f){f()}if(d){d()}f=d=undefined};const x=()=>{g();k()};const w=(t=true)=>{if(!t){if(r){r()}if(l){l()}r=l=undefined;x()}else{if(!r){r=h(e,"touchstart",p,i)}if(!l){l=h(e,"mousedown",m,i)}}};const S=()=>{w(false);n=s=t=undefined};return{enable:w,stop:x,destroy:S}};const y=e=>e instanceof Document?e:e.ownerDocument;const _=(e,t,s)=>{const n=s*(Math.PI/180);const i=e==="x";const r=Math.cos(n);const a=t*t;let c=0;let o=0;let l=false;let f=0;return{start(e,t){c=e;o=t;f=0;l=true},detect(e,t){if(!l){return false}const s=e-c;const n=t-o;const d=s*s+n*n;if(d<a){return false}const h=Math.sqrt(d);const u=(i?s:n)/h;if(u>r){f=1}else if(u<-r){f=-1}else{f=0}l=false;return true},isGesture(){return f!==0},getDirection(){return f}}};const v=e=>{let t=false;let s=false;let n=true;let i=false;const r=Object.assign({disableScroll:false,direction:"x",gesturePriority:0,passive:true,maxAngle:40,threshold:10},e);const a=r.canStart;const c=r.onWillStart;const o=r.onStart;const l=r.onEnd;const f=r.notCaptured;const h=r.onMove;const u=r.threshold;const p=r.passive;const b=r.blurOnStart;const y={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:undefined,data:undefined};const v=_(r.direction,r.threshold,r.maxAngle);const w=d.createGesture({name:e.gestureName,priority:e.gesturePriority,disableScroll:e.disableScroll});const S=e=>{const t=x(e);if(s||!n){return false}k(e,y);y.startX=y.currentX;y.startY=y.currentY;y.startTime=y.currentTime=t;y.velocityX=y.velocityY=y.deltaX=y.deltaY=0;y.event=e;if(a&&a(y)===false){return false}w.release();if(!w.start()){return false}s=true;if(u===0){return T()}v.start(y.startX,y.startY);return true};const D=e=>{if(t){if(!i&&n){i=true;g(y,e);requestAnimationFrame(C)}return}g(y,e);if(v.detect(y.currentX,y.currentY)){if(!v.isGesture()||!T()){z()}}};const C=()=>{if(!t){return}i=false;if(h){h(y)}};const T=()=>{if(w&&!w.capture()){return false}t=true;n=false;y.startX=y.currentX;y.startY=y.currentY;y.startTime=y.currentTime;if(c){c(y).then(G)}else{G()}return true};const M=()=>{if(typeof document!=="undefined"){const e=document.activeElement;if(e!==null&&e.blur){e.blur()}}};const G=()=>{if(b){M()}if(o){o(y)}n=true};const j=()=>{t=false;s=false;i=false;n=true;w.release()};const E=e=>{const s=t;const i=n;j();if(!i){return}g(y,e);if(s){if(l){l(y)}return}if(f){f(y)}};const L=m(r.el,S,D,E,{capture:false,passive:p});const z=()=>{j();L.stop();if(f){f(y)}};return{enable(e=true){if(!e){if(t){E(undefined)}j()}L.enable(e)},destroy(){w.destroy();L.destroy()}}};const g=(e,t)=>{if(!t){return}const s=e.currentX;const n=e.currentY;const i=e.currentTime;k(t,e);const r=e.currentX;const a=e.currentY;const c=e.currentTime=x(t);const o=c-i;if(o>0&&o<100){const t=(r-s)/o;const i=(a-n)/o;e.velocityX=t*.7+e.velocityX*.3;e.velocityY=i*.7+e.velocityY*.3}e.deltaX=r-e.startX;e.deltaY=a-e.startY;e.event=t};const k=(e,t)=>{let s=0;let n=0;if(e){const t=e.changedTouches;if(t&&t.length>0){const e=t[0];s=e.clientX;n=e.clientY}else if(e.pageX!==undefined){s=e.pageX;n=e.pageY}}t.currentX=s;t.currentY=n};const x=e=>e.timeStamp||Date.now();const w=".sc-tp-calendar-h{display:block;background:var(--tp-color-neutral-1);color:var(--tp-color-neutral-10)}.tp-calendar__header.sc-tp-calendar{display:flex;justify-content:space-between;align-items:center;padding-bottom:24px;background-color:transparent}.tp-calendar__header-left.sc-tp-calendar{display:flex;align-items:center;text-align:center;width:210px}.tp-calendar__label.sc-tp-calendar{flex:1}.tp-calendar__header-right.sc-tp-calendar{display:flex;align-items:center}.tp-calendar__icon.sc-tp-calendar{color:var(--tp-color-neutral-8)}.tp-calendar__content-header.sc-tp-calendar{display:grid;grid-template-columns:repeat(7, 1fr);text-align:center}.tp-calendar__week-day.sc-tp-calendar{display:flex;align-items:center;justify-content:center;height:24px;margin:0 auto}.tp-calendar__container.sc-tp-calendar{display:grid;grid-template-columns:repeat(7, 1fr);height:100%}.sc-tp-calendar-h.tp-color.sc-tp-calendar-s>tp-calendar-day,.sc-tp-calendar-h.tp-color .sc-tp-calendar-s>tp-calendar-day{--tp-active-color:var(--tp-color-contrast);--tp-active-background:var(--tp-color-base)}";const S=w;const D=class{constructor(e){t(this,e);this.tpCalendarChange=s(this,"tpCalendarChange",7);this.tpTimeframeToggle=s(this,"tpTimeframeToggle",7);this.color=undefined;this.label=undefined;this.initialTimeframe=a.timeframes.week;this.timeframe=undefined}onTimeframeToggle(){var e;const t=(e=this.timeframe)!==null&&e!==void 0?e:this.initialTimeframe;this.timeframe=t===a.timeframes.week?a.timeframes.month:a.timeframes.week;this.tpTimeframeToggle.emit(this.timeframe)}onCalendarChange(e){this.tpCalendarChange.emit(e)}setupGesture(){let e;const t={el:this.container,gestureName:"swipe",onStart:()=>{},onMove:t=>{if(t.deltaX>0){e=a.directions.left}else{e=a.directions.right}},onEnd:()=>{this.tpCalendarChange.emit(e)}};this.gesture=v(t);this.gesture.enable()}disconnectGesture(){if(this.gesture){this.gesture.destroy()}}componentDidLoad(){this.setupGesture()}disconnectedCallback(){this.disconnectGesture()}render(){const{color:e,label:t,initialTimeframe:s,timeframe:c}=this;return n(i,{key:"5e27be6090e8e459a81d48b0f2d7f6b4aa724197",class:r(e,{"tp-calendar":true})},n("div",{key:"c711d4777e20cc34b1a31dc8a8d45a1d451a3288",class:"tp-calendar__header"},n("div",{key:"7f7fafd6a1b16000052b55a81de82568e109b050",class:"tp-calendar__header-left"},n("ion-button",{key:"e446f88f7f4f6771c96711dbc49ee0b28077abae",size:"xxs",fill:"clear",onClick:()=>this.onCalendarChange(a.directions.left)},n("ion-icon",{key:"81bf9d92dfd63b80c5cf15523a5aa1ef0db0068c",slot:"icon-only",src:a.icons.chevronLeft})),n("ion-text",{key:"4f5fa81a002131d28ce36187a2b2a421fb22f42f",class:"tp-calendar__label","tp-type":"p16b"},t),n("ion-button",{key:"62e10458116b5c015bb5afc485d18cab71937afb",size:"xxs",fill:"clear",onClick:()=>this.onCalendarChange(a.directions.right)},n("ion-icon",{key:"4742e798e86de6606f7a1b89d73b83c6155641ff",slot:"icon-only",src:a.icons.chevronRight}))),n("div",{key:"df057882f35d872d2e8cf298112b16abfa39d4e0",class:"tp-calendar__header-right"},n("ion-button",{key:"8279e40e9b19f28a1ca151bd09125d050f1c69b3",size:"xxs",fill:"clear",onClick:()=>this.onTimeframeToggle()},c!==null&&c!==void 0?c:s,n("ion-icon",{key:"773ee8b5e86d099d509c18d6646a6f48570cec9c",class:"tp-calendar__icon",slot:"end",src:a.icons.chevronDown})))),n("div",{key:"529dbe6e85492b5057c0afebd42be51bc89071c1",class:"tp-calendar__content"},n("div",{key:"313d138f8bc1a1506bacfedcc865c79edf77e49f",class:"tp-calendar__content-header"},a.weekdays.map((e=>n("div",{class:"tp-calendar__week-day"},n("ion-text",{"tp-type":"p12",color:"neutral-8"},e))))),n("div",{key:"5db0ec2f22684ec4484633291be6568e1a61cb65",class:"tp-calendar__container",ref:e=>this.container=e},n("slot",{key:"97aaf4ab173d6f2c7502eafbdb259ee6c89d3dfe"}))))}static get assetsDirs(){return["assets"]}};D.style=S;export{D as tp_calendar};
//# sourceMappingURL=p-820c600f.entry.js.map