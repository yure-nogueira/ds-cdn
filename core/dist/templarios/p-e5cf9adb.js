const t=t=>typeof t==="object"&&t!==null;const e=e=>t(e)&&!(e instanceof RegExp)&&!(e instanceof Error)&&!(e instanceof Date);const s=Symbol("mapObjectSkip");const i=(t,n,r,o=new WeakMap)=>{r={deep:false,target:{},...r};if(o.has(t)){return o.get(t)}o.set(t,r.target);const{target:f}=r;delete r.target;const c=t=>t.map((t=>e(t)?i(t,n,r,o):t));if(Array.isArray(t)){return c(t)}for(const[h,a]of Object.entries(t)){const u=n(h,a,t);if(u===s){continue}let[l,p,{shouldRecurse:y=true}={}]=u;if(l==="__proto__"){continue}if(r.deep&&y&&e(p)){p=Array.isArray(p)?c(p):i(p,n,r,o)}f[l]=p}return f};function n(e,s,n){if(!t(e)){throw new TypeError(`Expected an object, got \`${e}\` (${typeof e})`)}return i(e,s,n)}const r=/[\p{Lu}]/u;const o=/[\p{Ll}]/u;const f=/^[\p{Lu}](?![\p{Lu}])/gu;const c=/([\p{Alpha}\p{N}_]|$)/u;const h=/[_.\- ]+/;const a=new RegExp("^"+h.source);const u=new RegExp(h.source+c.source,"gu");const l=new RegExp("\\d+"+c.source,"gu");const p=(t,e,s,i)=>{let n=false;let f=false;let c=false;let h=false;for(let a=0;a<t.length;a++){const u=t[a];h=a>2?t[a-3]==="-":true;if(n&&r.test(u)){t=t.slice(0,a)+"-"+t.slice(a);n=false;c=f;f=true;a++}else if(f&&c&&o.test(u)&&(!h||i)){t=t.slice(0,a-1)+"-"+t.slice(a-1);c=f;f=false;n=true}else{n=e(u)===u&&s(u)!==u;c=f;f=s(u)===u&&e(u)!==u}}return t};const y=(t,e)=>{f.lastIndex=0;return t.replaceAll(f,(t=>e(t)))};const d=(t,e)=>{u.lastIndex=0;l.lastIndex=0;return t.replaceAll(l,((s,i,n)=>["_","-"].includes(t.charAt(n+s.length))?s:e(s))).replaceAll(u,((t,s)=>e(s)))};function g(t,e){if(!(typeof t==="string"||Array.isArray(t))){throw new TypeError("Expected the input to be `string | string[]`")}e={pascalCase:false,preserveConsecutiveUppercase:false,...e};if(Array.isArray(t)){t=t.map((t=>t.trim())).filter((t=>t.length)).join("-")}else{t=t.trim()}if(t.length===0){return""}const s=e.locale===false?t=>t.toLowerCase():t=>t.toLocaleLowerCase(e.locale);const i=e.locale===false?t=>t.toUpperCase():t=>t.toLocaleUpperCase(e.locale);if(t.length===1){if(h.test(t)){return""}return e.pascalCase?i(t):s(t)}const n=t!==s(t);if(n){t=p(t,s,i,e.preserveConsecutiveUppercase)}t=t.replace(a,"");t=e.preserveConsecutiveUppercase?y(t,s):s(t);if(e.pascalCase){t=i(t.charAt(0))+t.slice(1)}return d(t,i)}class m extends Map{constructor(t={}){super();if(!(t.maxSize&&t.maxSize>0)){throw new TypeError("`maxSize` must be a number greater than 0")}if(typeof t.maxAge==="number"&&t.maxAge===0){throw new TypeError("`maxAge` must be a number greater than 0")}this.maxSize=t.maxSize;this.maxAge=t.maxAge||Number.POSITIVE_INFINITY;this.onEviction=t.onEviction;this.cache=new Map;this.oldCache=new Map;this._size=0}_emitEvictions(t){if(typeof this.onEviction!=="function"){return}for(const[e,s]of t){this.onEviction(e,s.value)}}_deleteIfExpired(t,e){if(typeof e.expiry==="number"&&e.expiry<=Date.now()){if(typeof this.onEviction==="function"){this.onEviction(t,e.value)}return this.delete(t)}return false}_getOrDeleteIfExpired(t,e){const s=this._deleteIfExpired(t,e);if(s===false){return e.value}}_getItemValue(t,e){return e.expiry?this._getOrDeleteIfExpired(t,e):e.value}_peek(t,e){const s=e.get(t);return this._getItemValue(t,s)}_set(t,e){this.cache.set(t,e);this._size++;if(this._size>=this.maxSize){this._size=0;this._emitEvictions(this.oldCache);this.oldCache=this.cache;this.cache=new Map}}_moveToRecent(t,e){this.oldCache.delete(t);this._set(t,e)}*_entriesAscending(){for(const t of this.oldCache){const[e,s]=t;if(!this.cache.has(e)){const i=this._deleteIfExpired(e,s);if(i===false){yield t}}}for(const t of this.cache){const[e,s]=t;const i=this._deleteIfExpired(e,s);if(i===false){yield t}}}get(t){if(this.cache.has(t)){const e=this.cache.get(t);return this._getItemValue(t,e)}if(this.oldCache.has(t)){const e=this.oldCache.get(t);if(this._deleteIfExpired(t,e)===false){this._moveToRecent(t,e);return e.value}}}set(t,e,{maxAge:s=this.maxAge}={}){const i=typeof s==="number"&&s!==Number.POSITIVE_INFINITY?Date.now()+s:undefined;if(this.cache.has(t)){this.cache.set(t,{value:e,expiry:i})}else{this._set(t,{value:e,expiry:i})}return this}has(t){if(this.cache.has(t)){return!this._deleteIfExpired(t,this.cache.get(t))}if(this.oldCache.has(t)){return!this._deleteIfExpired(t,this.oldCache.get(t))}return false}peek(t){if(this.cache.has(t)){return this._peek(t,this.cache)}if(this.oldCache.has(t)){return this._peek(t,this.oldCache)}}delete(t){const e=this.cache.delete(t);if(e){this._size--}return this.oldCache.delete(t)||e}clear(){this.cache.clear();this.oldCache.clear();this._size=0}resize(t){if(!(t&&t>0)){throw new TypeError("`maxSize` must be a number greater than 0")}const e=[...this._entriesAscending()];const s=e.length-t;if(s<0){this.cache=new Map(e);this.oldCache=new Map;this._size=e.length}else{if(s>0){this._emitEvictions(e.slice(0,s))}this.oldCache=new Map(e.slice(s));this.cache=new Map;this._size=0}this.maxSize=t}*keys(){for(const[t]of this){yield t}}*values(){for(const[,t]of this){yield t}}*[Symbol.iterator](){for(const t of this.cache){const[e,s]=t;const i=this._deleteIfExpired(e,s);if(i===false){yield[e,s.value]}}for(const t of this.oldCache){const[e,s]=t;if(!this.cache.has(e)){const t=this._deleteIfExpired(e,s);if(t===false){yield[e,s.value]}}}}*entriesDescending(){let t=[...this.cache];for(let e=t.length-1;e>=0;--e){const s=t[e];const[i,n]=s;const r=this._deleteIfExpired(i,n);if(r===false){yield[i,n.value]}}t=[...this.oldCache];for(let e=t.length-1;e>=0;--e){const s=t[e];const[i,n]=s;if(!this.cache.has(i)){const t=this._deleteIfExpired(i,n);if(t===false){yield[i,n.value]}}}}*entriesAscending(){for(const[t,e]of this._entriesAscending()){yield[t,e.value]}}get size(){if(!this._size){return this.oldCache.size}let t=0;for(const e of this.oldCache.keys()){if(!this.cache.has(e)){t++}}return Math.min(this._size+t,this.maxSize)}entries(){return this.entriesAscending()}forEach(t,e=this){for(const[s,i]of this.entriesAscending()){t.call(e,i,s,this)}}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}}const w=(t,e)=>t.some((t=>{if(typeof t==="string"){return t===e}t.lastIndex=0;return t.test(e)}));const b=new m({maxSize:1e5});const x=t=>typeof t==="object"&&t!==null&&!(t instanceof RegExp)&&!(t instanceof Error)&&!(t instanceof Date);const E=(t,e={})=>{if(!x(t)){return t}const{exclude:s,pascalCase:i=false,stopPaths:r,deep:o=false,preserveConsecutiveUppercase:f=false}=e;const c=new Set(r);const h=t=>(e,r)=>{if(o&&x(r)){const s=t===undefined?e:`${t}.${e}`;if(!c.has(s)){r=n(r,h(s))}}if(!(s&&w(s,e))){const t=i?`${e}_`:e;if(b.has(t)){e=b.get(t)}else{const s=g(e,{pascalCase:i,locale:false,preserveConsecutiveUppercase:f});if(e.length<100){b.set(t,s)}e=s}}return[e,r]};return n(t,h(undefined))};function _(t,e){if(Array.isArray(t)){return Object.keys(t).map((s=>E(t[s],e)))}return E(t,e)}export{_ as c};
//# sourceMappingURL=p-e5cf9adb.js.map