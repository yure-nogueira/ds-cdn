{"version":3,"file":"segment-container.js","sourceRoot":"","sources":["../../../../src/components/core/segment-container/segment-container.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Element, Host, Listen, h } from '@stencil/core';\r\nimport {\r\n  TP_SEGMENT_GRADIENT_SHOW_CLASS,\r\n  TP_SEGMENT_WRAPPER_CLASS,\r\n} from './utils/segment-container.constant';\r\nimport { TpSegmentContainerGradient } from './utils/segment-container.enum';\r\nimport { TpSegmentContainerType } from './utils/segment-container.type';\r\n\r\n@Component({\r\n  tag: 'tp-segment-container',\r\n  styleUrl: 'segment-container.scss',\r\n  shadow: true,\r\n})\r\nexport class TpSegmentContainer {\r\n  private wrapperEl: HTMLDivElement;\r\n  private hasScroll: boolean;\r\n\r\n  @Element() host!: HTMLElement;\r\n\r\n  componentDidLoad() {\r\n    this.wrapperEl = this.host.shadowRoot.querySelector(\r\n      `.${TP_SEGMENT_WRAPPER_CLASS}`,\r\n    ) as HTMLDivElement;\r\n\r\n    this.hasScroll = this.wrapperEl.scrollWidth > this.wrapperEl.clientWidth;\r\n\r\n    if (this.hasScroll) {\r\n      this.addGradient(TpSegmentContainerGradient.END);\r\n    }\r\n\r\n    this.wrapperEl.addEventListener('scroll', this.updateGradient.bind(this));\r\n  }\r\n\r\n  addGradient(position: TpSegmentContainerType['position']) {\r\n    if (\r\n      !this.host.classList.contains(\r\n        `${TP_SEGMENT_GRADIENT_SHOW_CLASS}-${position}`,\r\n      )\r\n    ) {\r\n      this.host.classList.add(`${TP_SEGMENT_GRADIENT_SHOW_CLASS}-${position}`);\r\n    }\r\n  }\r\n\r\n  removeGradient(position: TpSegmentContainerType['position']) {\r\n    if (\r\n      this.host.classList.contains(\r\n        `${TP_SEGMENT_GRADIENT_SHOW_CLASS}-${position}`,\r\n      )\r\n    ) {\r\n      this.host.classList.remove(\r\n        `${TP_SEGMENT_GRADIENT_SHOW_CLASS}-${position}`,\r\n      );\r\n    }\r\n  }\r\n\r\n  updateGradient() {\r\n    if (!this.hasScroll) {\r\n      this.removeGradient(TpSegmentContainerGradient.START);\r\n      this.removeGradient(TpSegmentContainerGradient.END);\r\n      return;\r\n    }\r\n\r\n    const isAtStart = this.wrapperEl.scrollLeft === 0;\r\n    const isAtEnd =\r\n      this.wrapperEl.scrollWidth ===\r\n        Math.floor(this.wrapperEl.clientWidth + this.wrapperEl.scrollLeft) ||\r\n      this.wrapperEl.scrollWidth ===\r\n        Math.ceil(this.wrapperEl.clientWidth + this.wrapperEl.scrollLeft);\r\n\r\n    if (isAtStart) {\r\n      this.removeGradient(TpSegmentContainerGradient.START);\r\n    }\r\n\r\n    if (!isAtStart) {\r\n      this.addGradient(TpSegmentContainerGradient.START);\r\n    }\r\n\r\n    if (isAtEnd) {\r\n      this.removeGradient(TpSegmentContainerGradient.END);\r\n    }\r\n\r\n    if (!isAtEnd) {\r\n      this.addGradient(TpSegmentContainerGradient.END);\r\n    }\r\n  }\r\n\r\n  @Listen('resize', { target: 'window' })\r\n  onWindowReize() {\r\n    this.hasScroll = this.wrapperEl.scrollWidth > this.wrapperEl.clientWidth;\r\n    this.updateGradient();\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this.wrapperEl.removeEventListener(\r\n      'scroll',\r\n      this.updateGradient.bind(this),\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host class=\"tp-segment-container\">\r\n        <div class=\"tp-segment-container__wrapper\">\r\n          <slot />\r\n          <div class=\"tp-segment-container__gradient\"></div>\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"]}