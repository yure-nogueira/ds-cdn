{"version":3,"file":"plusminus.js","sourceRoot":"","sources":["../../../../src/components/core/plusminus/plusminus.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\r\n  Component,\r\n  Event,\r\n  EventEmitter,\r\n  getAssetPath,\r\n  h,\r\n  Host,\r\n  Prop,\r\n  Watch,\r\n} from '@stencil/core';\r\nimport { createColorClasses } from '../../../utils/functions/color.function';\r\nimport { TpColor } from '../../../utils/types/color.type';\r\nimport { TpPlusMinusStatus } from './utils/plusminus.enum';\r\n\r\n@Component({\r\n  tag: 'tp-plusminus',\r\n  styleUrl: 'plusminus.scss',\r\n  assetsDirs: ['assets'],\r\n  scoped: true,\r\n})\r\nexport class TpPlusMinus {\r\n  private iconMinus = getAssetPath('./assets/tp-minus-circle.svg');\r\n  private iconPlus = getAssetPath('./assets/tp-plus-circle.svg');\r\n\r\n  /**\r\n   * todo\r\n   */\r\n  @Prop({ reflect: true }) color?: TpColor;\r\n\r\n  /**\r\n   * todo\r\n   */\r\n  @Prop({ reflect: true }) size?: 'xl';\r\n\r\n  /**\r\n   * todo\r\n   */\r\n  @Event() tpChange!: EventEmitter<TpPlusMinusStatus>;\r\n\r\n  /**\r\n   * todo\r\n   */\r\n  @Event() tpChangeAlt!: EventEmitter<number>;\r\n\r\n  /**\r\n   * todo\r\n   */\r\n  @Prop({ reflect: true }) disabled?: 'minus' | 'plus' | 'both';\r\n\r\n  /**\r\n   * true se deve desabilitar os controles automaticamente\r\n   */\r\n  @Prop({ reflect: true }) automaticDisabled = false;\r\n\r\n  /**\r\n   * Deverá ser true se o valor atual vai ser passado por slot, false se vai ser passado por prop\r\n   */\r\n  @Prop({ reflect: true }) useSlot = true;\r\n\r\n  /**\r\n   * O valor atual (apenas se useSlot é false)\r\n   */\r\n  @Prop({ reflect: true }) value?: number;\r\n\r\n  /**\r\n   * O valor mínimo\r\n   */\r\n  @Prop({ reflect: true }) min?: number;\r\n\r\n  /**\r\n   * O valor máximo\r\n   */\r\n  @Prop({ reflect: true }) max?: number;\r\n\r\n  @Watch('value')\r\n  disabledHandler(newValue: number, _: number) {\r\n    if (\r\n      this.min === undefined ||\r\n      this.max === undefined ||\r\n      this.value === undefined ||\r\n      !this.automaticDisabled\r\n    )\r\n      return;\r\n\r\n    if (newValue === this.min && newValue === this.max) {\r\n      return (this.disabled = 'both');\r\n    }\r\n\r\n    if (newValue === this.min) {\r\n      return (this.disabled = 'minus');\r\n    }\r\n\r\n    if (newValue === this.max) {\r\n      return (this.disabled = 'plus');\r\n    }\r\n\r\n    this.disabled = undefined;\r\n  }\r\n\r\n  private onClick = (status: TpPlusMinusStatus) => {\r\n    if (\r\n      this.min === undefined ||\r\n      this.max === undefined ||\r\n      this.value === undefined ||\r\n      !this.automaticDisabled\r\n    ) {\r\n      return this.tpChange.emit(status);\r\n    }\r\n\r\n    if (status === TpPlusMinusStatus.MINUS && this.value === this.min) return;\r\n    if (status === TpPlusMinusStatus.PLUS && this.value === this.max) return;\r\n\r\n    const increment = status === TpPlusMinusStatus.MINUS ? -1 : 1;\r\n    this.tpChangeAlt.emit(this.value + increment);\r\n  };\r\n\r\n  componentDidLoad() {\r\n    this.disabledHandler(this.value ?? 0, 0);\r\n  }\r\n\r\n  render() {\r\n    const { iconMinus, iconPlus, size, color, disabled, useSlot, value } = this;\r\n\r\n    return (\r\n      <Host\r\n        from-stencil\r\n        class={createColorClasses(color, {\r\n          'tp-plusminus': true,\r\n          [`tp-plusminus--disabled-${disabled}`]: disabled !== undefined,\r\n          [`tp-plusminus--${size}`]: size !== undefined,\r\n        })}\r\n      >\r\n        <ion-icon\r\n          class=\"tp-plusminus__icon tp-plusminus__icon--minus\"\r\n          src={iconMinus}\r\n          onClick={() => this.onClick(TpPlusMinusStatus.MINUS)}\r\n        ></ion-icon>\r\n        {useSlot ? <slot></slot> : value ?? 0}\r\n        <ion-icon\r\n          class=\"tp-plusminus__icon tp-plusminus__icon--plus\"\r\n          src={iconPlus}\r\n          onClick={() => this.onClick(TpPlusMinusStatus.PLUS)}\r\n        ></ion-icon>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"]}