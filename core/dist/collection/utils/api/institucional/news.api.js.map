{"version":3,"file":"news.api.js","sourceRoot":"","sources":["../../../../src/utils/api/institucional/news.api.ts"],"names":[],"mappings":"AAAA,OAAO,aAAa,MAAM,gBAAgB,CAAC;AAC3C,OAAO,EAAE,gBAAgB,EAAE,MAAM,qCAAqC,CAAC;AAOvE,MAAM,OAAO,OAAO;IAClB,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,WAA0B;QAC7C,MAAM,WAAW,GAAG,MAAM,KAAK,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,EAAE;YACzD,MAAM,EAAE,MAAM;YACd,OAAO,EAAE;gBACP,cAAc,EAAE,mCAAmC;aACpD;YACD,IAAI,EAAE,IAAI,eAAe,CACvB,MAAM,CAAC,MAAM,iBAAG,MAAM,EAAE,gBAAgB,CAAC,OAAO,IAAK,WAAW,EAAG,CACpE;SACF,CAAC,CAAC;QAEH,MAAM,QAAQ,GAAgB,MAAM,WAAW,CAAC,IAAI,EAAE,CAAC;QACvD,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,QAAQ,CAAC;QACnC,MAAM,IAAI,GAAmB,aAAa,CAAC,OAAO,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;QAEpE,OAAO,IAAI,CAAC;IACd,CAAC;CACF","sourcesContent":["import camelcaseKeys from 'camelcase-keys';\r\nimport { API_NEWS_ACTIONS } from './utils/constants/requests.constant';\r\nimport { ApiResponse } from './utils/interfaces/responses.interface';\r\nimport {\r\n  GetNewsParams,\r\n  GetNewsRespose,\r\n} from './utils/interfaces/news.interface';\r\n\r\nexport class ApiNews {\r\n  static async getNews(extraParams: GetNewsParams) {\r\n    const rawResponse = await fetch(`${process.env.AJAX_URL}`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/x-www-form-urlencoded',\r\n      },\r\n      body: new URLSearchParams(\r\n        Object.assign({ action: API_NEWS_ACTIONS.getNews, ...extraParams }),\r\n      ),\r\n    });\r\n\r\n    const response: ApiResponse = await rawResponse.json();\r\n    const { data: rawData } = response;\r\n    const data: GetNewsRespose = camelcaseKeys(rawData, { deep: true });\r\n\r\n    return data;\r\n  }\r\n}\r\n"]}